var huewaco_lib=function(t){for(i in this.settings={base_url:"http://localhost:15537",cache:!1,method:"POST",timeout:-1,headers:{"Content-Type":"application/json"},data:""},t)this.settings[i]=t[i];huewaco_lib.prototype.init=async function(){this.validation(),console.log(this.getParam("state")),this.districts=await this.getTheDistricts(),console.log(this.districts),this.wards=await this.getTheWards()},this.validation=function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,(function(t){t.addEventListener("submit",(function(e){!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")}),!1)}))},huewaco_lib.prototype.getParam=function(t,e){let o="";e||(e=window.location.href);var i=e.split("?");if(i.length>1){var n=i[1].split("&");console.log(n),n.forEach((e=>{var i=e.split("=");i[0]!=t||(o=i[1])}))}return o},huewaco_lib.prototype.getTheWardsByDistrictID=function(t){const e=[];if(0==this.wards.code&&void 0!==this.wards.data){let o=0;this.wards.data.forEach((i=>{i.DistrictID==t&&(e[o++]=i)}))}return console.log(e),e},huewaco_lib.prototype.getTheDistricts=async function(){var t={url:this.settings.base_url+"/api/get-the-district-list",method:"GET",headers:{access_token:"1299ef8cfe980df2eed6c578aaa360a7"},cache:this.settings.cache,timeout:this.settings.timeout};return await $.ajax(t).done((function(t){return t})).fail((function(t){return console.log("Error: ",t),null}))},huewaco_lib.prototype.getTheWards=async function(){var t={url:this.settings.base_url+"/api/get-the-ward-list",method:"GET",headers:{access_token:"1299ef8cfe980df2eed6c578aaa360a7"},cache:this.settings.cache,timeout:this.settings.timeout};return await $.ajax(t).done((function(t){return t})).fail((function(t){return console.log("Error: ",t),null}))},huewaco_lib.prototype.readAccessTokenHueS=async function(t){var e={url:this.settings.base_url+"/api/hues/get-access-token?state="+t,method:"GET",cache:this.settings.cache,timeout:this.settings.timeout};return console.log(e),await $.ajax(e).done((function(t){return t})).fail((function(t){return console.log("Error: ",t),null}))},huewaco_lib.prototype.getAccessTokenHueS=async function(){var t={url:this.settings.base_url+"/api/hues/get-access-token?state=",method:"GET",cache:this.settings.cache,timeout:this.settings.timeout};return console.log(t),await $.ajax(t).done((function(t){return t})).fail((function(t){return console.log("Error: ",t),null}))},huewaco_lib.prototype.getUserInfo=async function(t){var e={url:this.settings.base_url+"/api/hues/get-user-info",method:"POST",timeout:-1,headers:{"Content-Type":"application/json",access_token:t},data:JSON.stringify({access_token:t})};return await $.ajax(e).done((function(t){return console.log(t),t})).fail((function(t){return console.log("Error: ",t),null}))},huewaco_lib.prototype.waterInstallationRequest=async function(t){var e={url:this.settings.base_url+"/api/water-installation",method:"POST",cache:this.settings.cache,timeout:this.settings.timeout,headers:{"Content-Type":"application/json",access_token:"1299ef8cfe980df2eed6c578aaa360a7"},data:JSON.stringify(t)};return await $.ajax(e).done((function(t){return console.log(t),t})).fail((function(t){return console.log("Error: ",t),null}))},huewaco_lib.prototype.setCookie=function(t,e,o=0){const i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);let n="expires="+i.toUTCString();document.cookie=t+"="+e+(o<=0?"":NaN+n)+";path=/"},huewaco_lib.prototype.getCookie=function(t){let e=t+"=",o=decodeURIComponent(document.cookie).split(";");for(let t=0;t<o.length;t++){let i=o[t];for(;" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""},huewaco_lib.prototype.getDateToString=function(){var t=new Date,e=t.getDate()+"",o=t.getMonth()+1+"",i=t.getFullYear()+"",n=t.getHours()+"",s=t.getMinutes()+"",a=t.getSeconds()+"";const r=(e=this.checkZero(e))+"/"+(o=this.checkZero(o))+"/"+(i=this.checkZero(i))+" "+(n=this.checkZero(n))+":"+(s=this.checkZero(s))+":"+(a=this.checkZero(a));return console.log(r),r},this.checkZero=function(t){return 1==t.length&&(t="0"+t),t}};